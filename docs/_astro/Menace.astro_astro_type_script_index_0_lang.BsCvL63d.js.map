{"version":3,"file":"Menace.astro_astro_type_script_index_0_lang.BsCvL63d.js","sources":["../../src/components/Menace.astro?astro&type=script&index=0&lang.ts"],"sourcesContent":["  window.playerWorker = new Worker(new URL('../workers/player.ts', import.meta.url), {type: 'module'})\n  window.gameWorker = new Worker(new URL('../workers/game.ts', import.meta.url), {type: 'module'});\n\n  window.gameWorker.onmessage = (event) => {\n    window.dispatchEvent(new CustomEvent(\"gamemsg\", { \"detail\": event.data } ));\n  };\n\n  window.playerWorker.onmessage = (event) => {\n    window.dispatchEvent(new CustomEvent(\"playermsg\", { \"detail\": event.data } ));\n  };\n\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyAidmVyc2lvbiI6IDMsICJzb3VyY2VzIjogWyIvYS9tZW5hY2UtbnhuL3NyYy9jb21wb25lbnRzL01lbmFjZS5hc3RybyJdLCAic291cmNlc0NvbnRlbnQiOiBbIi0tLVxuaW1wb3J0ICcuLi9zdHlsZXMvZ2xvYmFsLmNzcyc7XG4tLS1cblxuXG5cdTAwM2NkaXYgaWQ9XCJtZW5hY2VcIiBjbGFzcz1cImNvbnRhaW5lciBtdC0xMFwiIHgtc2hvdz1cInZpc2libGVcIlxueC1kYXRhPVwibWVuYWNlXCJcbngtY2xvYWtcbkBuZXdnYW1lLndpbmRvdz1cInZpc2libGUgPSB0cnVlOyBuZXdHYW1lKCRldmVudClcIlxuQGdhbWVtc2cud2luZG93PVwiZ2FtZSgkZXZlbnQpXCJcbkBwbGF5ZXJtc2cud2luZG93PVwicGxheWVyKCRldmVudClcIlx1MDAzZVxuXG5cbiAgXHUwMDNjZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXJcIlx1MDAzZVxuICAgIFx1MDAzY2RpdiBjbGFzcz1cIm1iLTQgZmxleCBmbGV4LXJvdyBqdXN0aWZ5LXN0YXJ0IGl0ZW1zLWNlbnRlciBnYXAteC02XCJcdTAwM2VcbiAgICAgIFx1MDAzY2xhYmVsIGlkPVwidG9nZ2xlLXN3aXRjaC1sYWJlbFwiIGZvcj1cInRvZ2dsZS1zd2l0Y2hcIiBjbGFzcz1cImZvbnQtc20gdHJhY2tpbmctd2lkZSBmb250LWJvbGQgdXBwZXJjYXNlIHRleHQtZ3JheS04MDBcIlx1MDAzZVxuICAgICAgICBBdXRvcGxheVxuICAgICAgXHUwMDNjL2xhYmVsXHUwMDNlXG4gICAgICBcdTAwM2NkaXZcdTAwM2VcbiAgICAgICAgXHUwMDNjZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXJcIlx1MDAzZVxuICAgICAgICAgIFx1MDAzY2lucHV0IGNoZWNrZWQ9XCJjaGVja2VkXCIgaWQ9XCJhdXRvcGxheWVyLW9mZlwiIHR5cGU9XCJyYWRpb1wiIHZhbHVlPVwiXCIgbmFtZT1cImF1dG9wbGF5ZXJcIiB4LW1vZGVsPVwiYXV0b3BsYXllclwiXHUwMDNlXG4gICAgICAgICAgXHUwMDNjbGFiZWwgZm9yPVwiYXV0b3BsYXllci1vZmZcIiBjbGFzcz1cIm1zLTIgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNjAwXCJcdTAwM2VPRkZcdTAwM2MvbGFiZWxcdTAwM2VcbiAgICAgICAgXHUwMDNjL2Rpdlx1MDAzZVxuXG4gICAgICAgIFx1MDAzY2RpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyXCJcdTAwM2VcbiAgICAgICAgICBcdTAwM2NpbnB1dCBpZD1cImF1dG9wbGF5ZXItcmFuZG9tXCIgdHlwZT1cInJhZGlvXCIgdmFsdWU9XCJyYW5kb21cIiBuYW1lPVwiYXV0b3BsYXllclwiIHgtbW9kZWw9XCJhdXRvcGxheWVyXCJcdTAwM2VcbiAgICAgICAgICBcdTAwM2NsYWJlbCBmb3I9XCJhdXRvcGxheWVyLXJhbmRvbVwiIGNsYXNzPVwibXMtMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS02MDBcIlx1MDAzZVJhbmRvbSBtb3Zlc1x1MDAzYy9sYWJlbFx1MDAzZVxuICAgICAgICBcdTAwM2MvZGl2XHUwMDNlXG4gICAgICAgIFx1MDAzY2RpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyXCJcdTAwM2VcbiAgICAgICAgICBcdTAwM2NpbnB1dCBpZD1cImF1dG9wbGF5ZXItb3B0aW1hbFwiIHR5cGU9XCJyYWRpb1wiIHZhbHVlPVwib3B0aW1hbFwiIG5hbWU9XCJhdXRvcGxheWVyXCIgeC1tb2RlbD1cImF1dG9wbGF5ZXJcIlx1MDAzZVxuICAgICAgICAgIFx1MDAzY2xhYmVsIGZvcj1cImF1dG9wbGF5ZXItb3B0aW1hbFwiIGNsYXNzPVwibXMtMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS02MDBcIlx1MDAzZU9wdGltYWwgbW92ZXNcdTAwM2MvbGFiZWxcdTAwM2VcbiAgICAgICAgXHUwMDNjL2Rpdlx1MDAzZVxuICAgICAgXHUwMDNjL2Rpdlx1MDAzZVxuXG4gICAgXHUwMDNjL2Rpdlx1MDAzZVxuICBcdTAwM2MvZGl2XHUwMDNlXG5cbiAgXHUwMDNjZGl2IGNsYXNzPVwibXQtMTAgZmxleCBmbGV4LXJvdyBqdXN0aWZ5LWNlbnRlciBpdGVtcy1zdGFydCBnYXAteC0xMlwiXHUwMDNlXG4gICAgXHUwMDNjZGl2XHUwMDNlXG4gICAgICBcdTAwM2NkaXYgY2xhc3M9XCJib3JkZXIgcm91bmRlZC1sZyBzaGFkb3ctbGcgcC00XCJcdTAwM2VcbiAgICAgICAgXHUwMDNjZGl2XG4gICAgICAgICAgeC1yZWY9XCJncmlkXCJcbiAgICAgICAgICBpZD1cImdyaWRcIlxuICAgICAgICAgIDpjbGFzcz1cIidncmlkLWNvbHMtJyArIHNpemVcIlxuICAgICAgICAgIDpzdHlsZT1cIid3aWR0aDogJyArICgoMjAgKiA0ICogc2l6ZSkgKyAoMTIgKiAoc2l6ZS0xKSkpICsgJ3B4J1wiXHUwMDNlXG5cbiAgICAgICAgICBcdTAwM2N0ZW1wbGF0ZSB4LWZvcj1cImkgaW4gc2l6ZSpzaXplXCJcdTAwM2VcbiAgICAgICAgICAgIFx1MDAzY2RpdiBjbGFzcz1cImNlbGxcIlxuICAgICAgICAgICAgICBkYXRhLWVtcHR5PVwiMVwiXG4gICAgICAgICAgICAgIDpkYXRhLWNlbGw9XCJpXCJcbiAgICAgICAgICAgICAgOmlkPVwiJ2NlbGwtJyArIChpLTEpXCJcbiAgICAgICAgICAgICAgQGNsaWNrPVwibW92ZShpKVwiXHUwMDNlXG4gICAgICAgICAgICBcdTAwM2MvZGl2XHUwMDNlXG4gICAgICAgICAgXHUwMDNjL3RlbXBsYXRlXHUwMDNlXG5cbiAgICAgICAgXHUwMDNjL2Rpdlx1MDAzZVxuICAgICAgXHUwMDNjL2Rpdlx1MDAzZVxuICAgIFx1MDAzYy9kaXZcdTAwM2VcbiAgXHUwMDNjL2Rpdlx1MDAzZVxuXG4gIFx1MDAzY2gzIGNsYXNzPVwianVzdGlmeS1jZW50ZXIgZmxleCBmbGV4LXJvdyBnYXAteC02IG10LTEwXCJcdTAwM2VcbiAgICBcdTAwM2NzcGFuXHUwMDNlXHUwMDNjc3Ryb25nIGNsYXNzPVwiZm9udC1ib2xkIHRleHQtcmVkLTUwMFwiXHUwMDNlT1x1MDAzYy9zdHJvbmdcdTAwM2UgUGxheWVyOiBcdTAwM2NzcGFuIHgtdGV4dD1cInN0YXRzLnBsYXllclwiXHUwMDNlXHUwMDNjL3NwYW5cdTAwM2VcdTAwM2Mvc3Bhblx1MDAzZVxuICAgIFx1MDAzY3NwYW5cdTAwM2VcdTAwM2NzdHJvbmcgY2xhc3M9XCJmb250LWJvbGQgdGV4dC1ibHVlLTUwMFwiXHUwMDNlWFx1MDAzYy9zdHJvbmdcdTAwM2UgTWFjaGluZTogXHUwMDNjc3BhbiB4LXRleHQ9XCJzdGF0cy5tYWNoaW5lXCJcdTAwM2VcdTAwM2Mvc3Bhblx1MDAzZVx1MDAzYy9zcGFuXHUwMDNlXG4gICAgXHUwMDNjc3Bhblx1MDAzZURyYXdzOiBcdTAwM2NzcGFuIHgtdGV4dD1cInN0YXRzLmRyYXdzXCJcdTAwM2VcdTAwM2Mvc3Bhblx1MDAzZVx1MDAzYy9zcGFuXHUwMDNlXG4gIFx1MDAzYy9oM1x1MDAzZVxuXG5cbiAgXHUwMDNjZGl2IGNsYXNzPVwibXQtMTBcIlx1MDAzZVxuICAgIFx1MDAzY2gzIGNsYXNzPVwiXCJcdTAwM2VNb3ZlcyBhbmQgc2NvcmVzXHUwMDNjL2gzXHUwMDNlXG4gICAgXHUwMDNjZGl2IGlkPVwibW92ZXNcIiB4LXJlZj1cIm1vdmVzXCIgY2xhc3M9XCJmbGV4IGZsZXgtcm93IGdhcC14LTMgbXQtNCBoLTE2XCJcdTAwM2VcdTAwM2MvZGl2XHUwMDNlXG4gIFx1MDAzYy9kaXZcdTAwM2VcblxuXHUwMDNjL2Rpdlx1MDAzZVxuXG5cblxuXHUwMDNjc2NyaXB0XHUwMDNlXG5cblxuICB3aW5kb3cucGxheWVyV29ya2VyID0gbmV3IFdvcmtlcihuZXcgVVJMKCcuLi93b3JrZXJzL3BsYXllci50cycsIGltcG9ydC5tZXRhLnVybCksIHt0eXBlOiAnbW9kdWxlJ30pXG4gIHdpbmRvdy5nYW1lV29ya2VyID0gbmV3IFdvcmtlcihuZXcgVVJMKCcuLi93b3JrZXJzL2dhbWUudHMnLCBpbXBvcnQubWV0YS51cmwpLCB7dHlwZTogJ21vZHVsZSd9KTtcblxuICB3aW5kb3cuZ2FtZVdvcmtlci5vbm1lc3NhZ2UgPSAoZXZlbnQpID1cdTAwM2Uge1xuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImdhbWVtc2dcIiwgeyBcImRldGFpbFwiOiBldmVudC5kYXRhIH0gKSk7XG4gIH07XG5cbiAgd2luZG93LnBsYXllcldvcmtlci5vbm1lc3NhZ2UgPSAoZXZlbnQpID1cdTAwM2Uge1xuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcInBsYXllcm1zZ1wiLCB7IFwiZGV0YWlsXCI6IGV2ZW50LmRhdGEgfSApKTtcbiAgfTtcblxuXHUwMDNjL3NjcmlwdFx1MDAzZVxuXG5cblx1MDAzY3NjcmlwdCBpczppbmxpbmVcdTAwM2VcblxuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2FscGluZTppbml0JywgKCkgPVx1MDAzZSB7XG5cblxuICAgIEFscGluZS5kYXRhKCdtZW5hY2UnLCAoKSA9XHUwMDNlICh7XG4gICAgICB2aXNpYmxlOiBmYWxzZSxcblxuICAgICAgc3BlZWQ6IDUsXG4gICAgICBzaXplOiAwLCBzdHJpa2U6IDAsIG1vdmVTdHJhdGVneTogbnVsbCwgYXV0b3BsYXllcjogJycsIGxlYXJuaW5nOiBudWxsLCB0cmFpbmluZzogbnVsbCwgZmlyc3RQbGF5ZXI6IGZhbHNlLFxuXG4gICAgICBzdGF0ZTogW10sXG4gICAgICBtb3ZlczogW10sXG4gICAgICBzdGF0czoge1xuICAgICAgICBwbGF5ZXI6IDAsXG4gICAgICAgIG1hY2hpbmU6IDAsXG4gICAgICAgIGRyYXdzOiAwLFxuICAgICAgfSxcblxuICAgICAgbmV3R2FtZShlKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGUuZGV0YWlsO1xuICAgICAgICB0aGlzLnNpemUgPSBjb25maWdbMF07XG4gICAgICAgIHRoaXMuc3RyaWtlU2l6ZSA9IGNvbmZpZ1sxXTtcbiAgICAgICAgdGhpcy5tb3ZlU3RyYXRlZ3kgPSBjb25maWdbMl07XG4gICAgICAgIHRoaXMubGVhcm5pbmcgPSBjb25maWdbM107XG4gICAgICAgIHRoaXMudHJhaW5pbmcgPSBjb25maWdbNF07XG5cbiAgICAgICAgd2luZG93LmdhbWVXb3JrZXIucG9zdE1lc3NhZ2UoWydUUkFJTklORycsIHRoaXMudHJhaW5pbmcgXSlcblxuICAgICAgICBzZXRUaW1lb3V0KHRoaXMucmVzdGFydC5iaW5kKHRoaXMpLCAxMDApXG4gICAgICB9LFxuXG5cbiAgICAgIHJlc3RhcnQoKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKVxuICAgICAgfSxcblxuICAgICAgcmVzZXQoZSkge1xuICAgICAgICB3aW5kb3cuZ2FtZVdvcmtlci5wb3N0TWVzc2FnZShbJ05FV19HQU1FJywgdGhpcy5zaXplLCB0aGlzLnN0cmlrZVNpemUgXSlcbiAgICAgICAgdGhpcy4kcmVmcy5tb3Zlcy5pbm5lckhUTUwgPScnO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSBcdTAwM2MgKHRoaXMuc2l6ZSAqIHRoaXMuc2l6ZSk7IGkrKykge1xuICAgICAgICAgIHRoaXMuZ2V0Q2VsbChpKS5jbGFzc0xpc3QucmVtb3ZlKCdkcmF3JylcbiAgICAgICAgICB0aGlzLmdldENlbGwoaSkuY2xhc3NMaXN0LnJlbW92ZSgnd2lubmVyJylcbiAgICAgICAgfVxuICAgICAgLy8gdGhpcy5wYWludCgpXG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5wbGF5LmJpbmQodGhpcyksIHRoaXMuc3BlZWQpXG5cbiAgICAgIH0sXG5cbiAgICAgIGdldENlbGwoaSkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2NlbGwtJHtpfWApXG4gICAgICB9LFxuXG5cbiAgICAgIHBsYXllcihlKSB7XG4gICAgICAgIGNvbnN0IG1vdmUgPSBlLmRldGFpbDtcblxuICAgICAgICBpZiAoIHR5cGVvZihtb3ZlKSAhPSAnbnVtYmVyJyApIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zdGF0ZS5qb2luKCcnKSlcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5hdXRvcGxheWVyKVxuICAgICAgICAgIHdpbmRvdy5wbGF5ZXJXb3JrZXIucG9zdE1lc3NhZ2UoWyB0aGlzLmF1dG9wbGF5ZXIsIHRoaXMuc3RhdGUuam9pbignJyksIHRoaXMuc3RyaWtlU2l6ZSBdKVxuXG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcignbWlzc2luZyBtb3ZlJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN0YXRlWyBtb3ZlIF0gPSAwO1xuICAgICAgICAgIHRoaXMucGFpbnQoKTtcbiAgICAgICAgICB3aW5kb3cuZ2FtZVdvcmtlci5wb3N0TWVzc2FnZShbJ01PVkUnLCBtb3ZlXSlcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgZ2FtZShlKSB7XG4gICAgICAgIHN3aXRjaCAoZS5kZXRhaWxbMF0pIHtcbiAgICAgICAgY2FzZSBcIlRSQUlOX0RBVEFcIjpcbiAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlLmRldGFpbFsxXSkpXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIk5FV19HQU1FXCI6XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IGUuZGV0YWlsWzFdLnN0YXRlXG4gICAgICAgICAgdGhpcy5wYWludCgpXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIlNUQVRFXCI6XG4gICAgICAgICAgbGV0IHN0YXRlID0gQXJyYXkuZnJvbShlLmRldGFpbFsxXS5zdGF0ZSk7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IGUuZGV0YWlsWzFdLnN0YXRlXG5cbiAgICAgICAgICB0aGlzLnBhaW50KClcblxuICAgICAgICAgIHRoaXMuJHJlZnMubW92ZXMuaW5uZXJIVE1MID0gJyc7XG5cblxuICAgICAgICAgIGZvciAobGV0IG1vdmUgb2YgZS5kZXRhaWxbMV0ubW92ZXMpIHtcbiAgICAgICAgICAgIGxldCBiZWZvcmVNb3ZlU3RhdGUgPSBBcnJheS5mcm9tKHN0YXRlKVxuICAgICAgICAgICAgYmVmb3JlTW92ZVN0YXRlWyBlLmRldGFpbFsxXS5tb3ZlIF0gPSAyO1xuICAgICAgICAgICAgYmVmb3JlTW92ZVN0YXRlWyBtb3ZlWzBdIF0gPSAxO1xuXG4gICAgICAgICAgICBsZXQgYyA9IHRoaXMudGh1bWJuYWlsKGJlZm9yZU1vdmVTdGF0ZSwgbW92ZVswXSwgNTApO1xuICAgICAgICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICAgICBsZXQgc2NvcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgICAgICAgICAgIHNjb3JlLmlubmVySFRNTCA9IG1vdmVbMV1cbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChzY29yZSlcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChjKVxuICAgICAgICAgICAgLy8gcC5hcHBlbmRDaGlsZCgpO1xuXG4gICAgICAgICAgICB0aGlzLiRyZWZzLm1vdmVzLmFwcGVuZENoaWxkKGRpdilcbiAgICAgICAgICB9XG5cblxuICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5wbGF5LmJpbmQodGhpcyksIHRoaXMuc3BlZWQpXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIkVORFwiOlxuICAgICAgICAgIHRoaXMuc3RhdGUgPSBlLmRldGFpbFsxXS5zdGF0ZVxuICAgICAgICAgIHRoaXMucGFpbnQoKVxuICAgICAgICAgIHRoaXMuJHJlZnMubW92ZXMuaW5uZXJIVE1MID0nJztcbiAgICAgICAgICBjb25zdCBkYXRhID0gZS5kZXRhaWxbMV1cbiAgICAgICAgICAvLyBzZXRUaW1lb3V0KCB0aGlzLnJlc2V0LmJpbmQodGhpcykgLCA1MDApXG4gICAgICAgICAgLy8gbGV0IGRhdGEgPSBhd2FpdCByZXNwLmpzb24oKTtcbiAgICAgICAgICB0aGlzLnN0YXRzID0gZGF0YS5zdGF0cztcbiAgICAgICAgICB1cGRhdGVDaGFydChkYXRhLnN0YXRzKVxuICAgICAgICAgIC8vIHRoaXMuc3RhdGUgPSBkYXRhLnN0YXRlO1xuICAgICAgICAgIC8vIHRoaXMucGFpbnQoKVxuICAgICAgICAgIGlmIChkYXRhLndpbm5lciA9PT0gXCJkcmF3XCIpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIFx1MDAzYyAodGhpcy5zaXplICogdGhpcy5zaXplKTsgaSsrKSB7XG4gICAgICAgICAgICAgIHRoaXMuZ2V0Q2VsbChpKS5jbGFzc0xpc3QuYWRkKCdkcmF3JylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpIG9mIGRhdGEuc3RyaWtlKSB7XG4gICAgICAgICAgICAgIHRoaXMuZ2V0Q2VsbChpKS5jbGFzc0xpc3QuYWRkKCd3aW5uZXInKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5yZXN0YXJ0LmJpbmQodGhpcyksICEhdGhpcy5hdXRvcGxheWVyID8gdGhpcy5zcGVlZCA6IDEwMDApXG5cblxuXG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGFzeW5jIGluaXQoKSB7XG4gICAgICAgIHRoaXMuJHdhdGNoKCdhdXRvcGxheWVyJywgKHZhbHVlLCBvbGRWYWx1ZSkgPVx1MDAzZSB0aGlzLnBsYXkoKSApXG4gICAgICAvLyB0aGlzLnBsYXkoKTtcbiAgICAgIH0sXG5cbiAgICAgIHBsYXkoKSB7XG4gICAgICAgIGlmICghIXRoaXMuYXV0b3BsYXllcikge1xuICAgICAgICAgIHdpbmRvdy5wbGF5ZXJXb3JrZXIucG9zdE1lc3NhZ2UoWyB0aGlzLmF1dG9wbGF5ZXIsIHRoaXMuc3RhdGUuam9pbignJyksIHRoaXMuc3RyaWtlU2l6ZSBdKVxuICAgICAgICB9XG4gICAgICB9LFxuXG5cbiAgICAgIHBhaW50KCkge1xuICAgICAgICBpZiAodHJ1ZSkge1xuICAgICAgICAgIGZvciAobGV0IGkgaW4gdGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdldENlbGwoaSlcbiAgICAgICAgICAgIGlmIChjZWxsKSB7XG4gICAgICAgICAgICAgIGNlbGwuaW5uZXJIVE1MID0gYFx1MDAzY3NwYW4gY2xhc3M9XCJjZWxsLXBsYXllZCBjZWxsLWNvbnRlbnQtJHt0aGlzLnN0YXRlW2ldfVwiXHUwMDNlJHt0aGlzLmdldFN5bWJvbCh0aGlzLnN0YXRlW2ldKX1cdTAwM2Mvc3Bhblx1MDAzZWBcbiAgICAgICAgICAgICAgY2VsbC5kYXRhc2V0LmVtcHR5ID0gdGhpcy5zdGF0ZVtpXSA9PSAyID8gMSA6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGdldFN5bWJvbCh4KSB7XG4gICAgICAgIHN3aXRjaCAoeCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmV0dXJuIFwiT1wiO1xuXG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gXCJYXCI7XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBtb3ZlKCkge1xuICAgICAgICBsZXQgY2VsbCA9IHBhcnNlSW50KHRoaXMuJGVsLmRhdGFzZXQuY2VsbCkgLTE7XG4gICAgICAgIHdpbmRvdy5nYW1lV29ya2VyLnBvc3RNZXNzYWdlKFsnTU9WRScsIGNlbGxdKVxuICAgICAgfSxcblxuICAgICAgdGh1bWJuYWlsKGdyaWREYXRhLCBtb3ZlLCBodykge1xuXG4gICAgICAgIGNvbnN0IHNpemUgPSBNYXRoLnNxcnQoZ3JpZERhdGEubGVuZ3RoKTtcbiAgICAgICAgY29uc3Qgcm93cyA9IHNpemU7XG4gICAgICAgIGNvbnN0IGNvbHMgPSBzaXplO1xuXG5cbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcbiAgICAgICAgY2FudmFzLndpZHRoID0gaHdcbiAgICAgICAgY2FudmFzLmhlaWdodD0gaHdcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGNvbnN0IGNlbGxTaXplID0gY2FudmFzLndpZHRoIC8gY29scztcblxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cbiAgICAgIC8vIFNldCBsaW5lIHByb3BlcnRpZXMgdG8gM3B4IHRoaWNrbmVzcyBhbmQgI2U1ZTdlYiBjb2xvclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnI2U1ZTdlYic7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAzO1xuXG4gICAgICAvLyBWZXJ0aWNhbCBsaW5lcyAoZXhjbHVkaW5nIG91dGVyIGJvcmRlcnMpXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIFx1MDAzYyBjb2xzOyBpKyspIHtcbiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgY3R4Lm1vdmVUbyhpICogY2VsbFNpemUsIDApO1xuICAgICAgICAgIGN0eC5saW5lVG8oaSAqIGNlbGxTaXplLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cblxuICAgICAgLy8gSG9yaXpvbnRhbCBsaW5lcyAoZXhjbHVkaW5nIG91dGVyIGJvcmRlcnMpXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIFx1MDAzYyByb3dzOyBpKyspIHtcbiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgY3R4Lm1vdmVUbygwLCBpICogY2VsbFNpemUpO1xuICAgICAgICAgIGN0eC5saW5lVG8oY2FudmFzLndpZHRoLCBpICogY2VsbFNpemUpO1xuICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAvLyBEcmF3IGNlbGwgc3ltYm9scyBiYXNlZCBvbiB2YWx1ZXNcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IFx1MDAzYyByb3dzOyByb3crKykge1xuICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCBcdTAwM2MgY29sczsgY29sKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcm93ICogY29scyArIGNvbDtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ3JpZERhdGFbaW5kZXhdO1xuXG4gICAgICAgICAgLy8gQ2FsY3VsYXRlIGNlbnRlciBwb3NpdGlvbiBhbmQgc2l6ZSBmb3IgdGhlIGNlbGxcbiAgICAgICAgICAgIGNvbnN0IHggPSBjb2wgKiBjZWxsU2l6ZSArIGNlbGxTaXplIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IHkgPSByb3cgKiBjZWxsU2l6ZSArIGNlbGxTaXplIC8gMjtcbiAgICAgICAgICBjb25zdCBzeW1ib2xTaXplID0gY2VsbFNpemUgKiAwLjY7IC8vIFNpemUgb2Ygc3ltYm9sIHJlbGF0aXZlIHRvIGNlbGxcblxuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gMCkge1xuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gaW5kZXggPT09IG1vdmUgPyAncmVkJyA6ICdncmV5JztcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4LmFyYyh4LCB5LCBzeW1ib2xTaXplIC8gMiwgMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IDEpIHtcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gaW5kZXggPT09IG1vdmUgPyAnYmx1ZScgOiAnZ3JleSc7XG4gICAgICAgICAgICAvLyBGaXJzdCBsaW5lIG9mIFhcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeCAtIHN5bWJvbFNpemUgLyAyLCB5IC0gc3ltYm9sU2l6ZSAvIDIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh4ICsgc3ltYm9sU2l6ZSAvIDIsIHkgKyBzeW1ib2xTaXplIC8gMik7XG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICAgICAgICAgIC8vIFNlY29uZCBsaW5lIG9mIFhcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeCArIHN5bWJvbFNpemUgLyAyLCB5IC0gc3ltYm9sU2l6ZSAvIDIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh4IC0gc3ltYm9sU2l6ZSAvIDIsIHkgKyBzeW1ib2xTaXplIC8gMik7XG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIHZhbHVlIGlzIDIsIGxlYXZlIHRoZSBjZWxsIGVtcHR5XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICB9XG5cblxuICB9KSlcbn0pXG5cdTAwM2Mvc2NyaXB0XHUwMDNlXG5cblxuXG5cdTAwM2NkaXYgY2xhc3M9XCJjb250YWluZXIgbXQtMTAgcHktMjBcIlx1MDAzZVxuICBcdTAwM2NkaXYgaWQ9XCJjaGFydFwiIHN0eWxlPVwiaGVpZ2h0OiAzNzBweDsgd2lkdGg6IDEwMCU7XCJcdTAwM2VcdTAwM2MvZGl2XHUwMDNlXG5cdTAwM2MvZGl2XHUwMDNlXG5cblxuXHUwMDNjc2NyaXB0IGlzOmlubGluZVx1MDAzZVxuXG4gIHZhciBkYXRhUG9pbnRzMSA9IFtdO1xuICB2YXIgZGF0YVBvaW50czIgPSBbXTtcbiAgdmFyIGRhdGFQb2ludHMzID0gW107XG5cbiAgdmFyIGNoYXJ0ID0gbmV3IENhbnZhc0pTLkNoYXJ0KFwiY2hhcnRcIiwge1xuICAvLyB6b29tRW5hYmxlZDogdHJ1ZSxcbiAgdGhlbWU6IFwibGlnaHQyXCIsIC8vIFwibGlnaHQxXCIsIFwibGlnaHQyXCIsIFwiZGFyazFcIiwgXCJkYXJrMlwiXG4gIHRpdGxlOiB7XG4gICAgLy8gdGV4dDogXCJTaGFyZSBWYWx1ZSBvZiBUd28gQ29tcGFuaWVzXCJcbiAgfSxcbiAgYXhpc1g6IHtcbiAgICAvLyB0aXRsZTogXCJjaGFydCB1cGRhdGVzIGV2ZXJ5IDMgc2Vjc1wiXG4gIH0sXG4gIHRvb2xUaXA6IHtcbiAgICBzaGFyZWQ6IHRydWVcbiAgfSxcbiAgbGVnZW5kOiB7XG4gICAgY3Vyc29yOlwicG9pbnRlclwiLFxuICAgIHZlcnRpY2FsQWxpZ246IFwidG9wXCIsXG4gICAgZm9udFNpemU6IDIyLFxuICAgIGZvbnRDb2xvcjogXCJkaW1HcmV5XCIsXG4gICAgaXRlbWNsaWNrIDogdG9nZ2xlRGF0YVNlcmllc1xuICB9LFxuICBkYXRhOiBbe1xuICAgIHR5cGU6IFwibGluZVwiLFxuICAgIHhWYWx1ZVR5cGU6IFwiZGF0ZVRpbWVcIixcbiAgICBzaG93SW5MZWdlbmQ6IHRydWUsXG4gICAgbmFtZTogXCJQbGF5ZXJcIixcbiAgICBjb2xvcjogXCIjZmIyYzM2XCIsXG4gICAgZGF0YVBvaW50czogZGF0YVBvaW50czFcbiAgfSxcbiAge1xuICAgIHR5cGU6IFwibGluZVwiLFxuICAgIHhWYWx1ZVR5cGU6IFwiZGF0ZVRpbWVcIixcbiAgICBzaG93SW5MZWdlbmQ6IHRydWUsXG4gICAgbmFtZTogXCJNYWNoaW5lXCIgLFxuICAgIGNvbG9yOiBcIiMyYjdmZmZcIixcbiAgICBkYXRhUG9pbnRzOiBkYXRhUG9pbnRzMlxuICB9LCAgICB7XG4gICAgdHlwZTogXCJsaW5lXCIsXG4gICAgeFZhbHVlVHlwZTogXCJkYXRlVGltZVwiLFxuICAgIHNob3dJbkxlZ2VuZDogdHJ1ZSxcbiAgICBuYW1lOiBcIkRyYXdzXCIgLFxuICAgIGNvbG9yOiBcIiM2YTcyODJcIixcbiAgICBkYXRhUG9pbnRzOiBkYXRhUG9pbnRzM1xuICB9XVxufSk7XG5cbiAgZnVuY3Rpb24gdG9nZ2xlRGF0YVNlcmllcyhlKSB7XG4gICAgaWYgKHR5cGVvZihlLmRhdGFTZXJpZXMudmlzaWJsZSkgPT09IFwidW5kZWZpbmVkXCIgfHwgZS5kYXRhU2VyaWVzLnZpc2libGUpIHtcbiAgICAgIGUuZGF0YVNlcmllcy52aXNpYmxlID0gZmFsc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZS5kYXRhU2VyaWVzLnZpc2libGUgPSB0cnVlO1xuICAgIH1cbiAgICBjaGFydC5yZW5kZXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNoYXJ0KHN0YXRzKSB7XG4gICAgbGV0IHRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxuXG4gICAgZGF0YVBvaW50czEucHVzaCh7XG4gICAgICB4OiB0aW1lLFxuICAgICAgeTogcGFyc2VJbnQoc3RhdHMucGxheWVyKSxcbiAgICAgIGNvbG9yOiBcIiNmYjJjMzZcIixcbiAgICB9KTtcbiAgICBkYXRhUG9pbnRzMi5wdXNoKHtcbiAgICAgIHg6IHRpbWUsXG4gICAgICB5OiBwYXJzZUludChzdGF0cy5tYWNoaW5lKSxcbiAgICAgIGNvbG9yOiBcIiMyYjdmZmZcIixcbiAgICB9KTtcbiAgICBkYXRhUG9pbnRzMy5wdXNoKHtcbiAgICAgIHg6IHRpbWUsXG4gICAgICBjb2xvcjogXCIjNmE3MjgyXCIsXG4gICAgICB5OiBwYXJzZUludChzdGF0cy5kcmF3cylcbiAgICB9KTtcblxuICAgIGNoYXJ0LnJlbmRlcigpO1xuICB9XG5cblxuXHUwMDNjL3NjcmlwdFx1MDAzZSJdLCAibWFwcGluZ3MiOiAiQUErRUEsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDckcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbEc7QUFDQSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDM0MsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUMvRSxFQUFFLENBQUM7QUFDSDtBQUNBLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDN0MsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDakYsRUFBRSxDQUFDO0FBQUE7IiwgIm5hbWVzIjogW10gfQ=="],"names":["event"],"mappings":"AA+EE,OAAO,aAAe,IAAI,OAAO,IAAkD,IAAA,6CAAA,YAAA,GAAA,EAAA,CAAC,KAAM,QAAA,CAAS,EACnG,OAAO,WAAa,IAAI,OAAO,IAAgD,IAAA,2CAAA,YAAA,GAAA,EAAA,CAAC,KAAM,QAAA,CAAS,EAE/F,OAAO,WAAW,UAAaA,GAAU,CAChC,OAAA,cAAc,IAAI,YAAY,UAAW,CAAE,OAAUA,EAAM,IAAK,CAAE,CAAC,CAC5E,EAEA,OAAO,aAAa,UAAaA,GAAU,CAClC,OAAA,cAAc,IAAI,YAAY,YAAa,CAAE,OAAUA,EAAM,IAAK,CAAE,CAAC,CAC9E"}