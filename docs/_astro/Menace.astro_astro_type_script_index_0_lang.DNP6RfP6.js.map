{"version":3,"file":"Menace.astro_astro_type_script_index_0_lang.DNP6RfP6.js","sources":["../../src/components/Menace.astro?astro&type=script&index=0&lang.ts"],"sourcesContent":["  window.playerWorker = new Worker(new URL('../workers/player.ts', import.meta.url), {type: 'module'})\n  window.gameWorker = new Worker(new URL('../workers/game.ts', import.meta.url), {type: 'module'});\n\n  window.gameWorker.onmessage = (event) => {\n    window.dispatchEvent(new CustomEvent(\"gamemsg\", { \"detail\": event.data } ));\n  };\n\n  window.playerWorker.onmessage = (event) => {\n    window.dispatchEvent(new CustomEvent(\"playermsg\", { \"detail\": event.data } ));\n  };\n\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyAidmVyc2lvbiI6IDMsICJzb3VyY2VzIjogWyIvYS9tZW5hY2UtbnhuL3NyYy9jb21wb25lbnRzL01lbmFjZS5hc3RybyJdLCAic291cmNlc0NvbnRlbnQiOiBbIi0tLVxuaW1wb3J0ICcuLi9zdHlsZXMvZ2xvYmFsLmNzcyc7XG4tLS1cblxuXG5cdTAwM2NkaXYgaWQ9XCJtZW5hY2VcIiBjbGFzcz1cImNvbnRhaW5lciBtdC0xMFwiIHgtc2hvdz1cInZpc2libGVcIlxuICB4LWRhdGE9XCJtZW5hY2VcIlxuICB4LWNsb2FrXG4gIEBuZXdnYW1lLndpbmRvdz1cInZpc2libGUgPSB0cnVlOyBuZXdHYW1lKCRldmVudClcIlxuICBAZ2FtZW1zZy53aW5kb3c9XCJnYW1lKCRldmVudClcIlxuICBAcGxheWVybXNnLndpbmRvdz1cInBsYXllcigkZXZlbnQpXCJcdTAwM2VcblxuXG4gIFx1MDAzY2RpdiBjbGFzcz1cImZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyXCJcdTAwM2VcbiAgICBcdTAwM2NkaXYgY2xhc3M9XCJtYi00IGZsZXggZmxleC1yb3cganVzdGlmeS1zdGFydCBpdGVtcy1jZW50ZXIgZ2FwLXgtNlwiXHUwMDNlXG4gICAgICBcdTAwM2NsYWJlbCBpZD1cInRvZ2dsZS1zd2l0Y2gtbGFiZWxcIiBmb3I9XCJ0b2dnbGUtc3dpdGNoXCIgY2xhc3M9XCJmb250LXNtIHRyYWNraW5nLXdpZGUgZm9udC1ib2xkIHVwcGVyY2FzZSB0ZXh0LWdyYXktODAwXCJcdTAwM2VcbiAgICAgICAgQXV0b3BsYXlcbiAgICAgIFx1MDAzYy9sYWJlbFx1MDAzZVxuICAgICAgXHUwMDNjZGl2XHUwMDNlXG4gICAgICAgIFx1MDAzY2RpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyXCJcdTAwM2VcbiAgICAgICAgICBcdTAwM2NpbnB1dCBjaGVja2VkPVwiY2hlY2tlZFwiIGlkPVwiYXV0b3BsYXllci1vZmZcIiB0eXBlPVwicmFkaW9cIiB2YWx1ZT1cIlwiIG5hbWU9XCJhdXRvcGxheWVyXCIgeC1tb2RlbD1cImF1dG9wbGF5ZXJcIlx1MDAzZVxuICAgICAgICAgIFx1MDAzY2xhYmVsIGZvcj1cImF1dG9wbGF5ZXItb2ZmXCIgY2xhc3M9XCJtcy0yIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTYwMFwiXHUwMDNlT0ZGXHUwMDNjL2xhYmVsXHUwMDNlXG4gICAgICAgIFx1MDAzYy9kaXZcdTAwM2VcblxuICAgICAgICBcdTAwM2NkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlclwiXHUwMDNlXG4gICAgICAgICAgXHUwMDNjaW5wdXQgaWQ9XCJhdXRvcGxheWVyLXJhbmRvbVwiIHR5cGU9XCJyYWRpb1wiIHZhbHVlPVwicmFuZG9tXCIgbmFtZT1cImF1dG9wbGF5ZXJcIiB4LW1vZGVsPVwiYXV0b3BsYXllclwiXHUwMDNlXG4gICAgICAgICAgXHUwMDNjbGFiZWwgZm9yPVwiYXV0b3BsYXllci1yYW5kb21cIiBjbGFzcz1cIm1zLTIgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNjAwXCJcdTAwM2VSYW5kb20gbW92ZXNcdTAwM2MvbGFiZWxcdTAwM2VcbiAgICAgICAgXHUwMDNjL2Rpdlx1MDAzZVxuICAgICAgICBcdTAwM2NkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlclwiXHUwMDNlXG4gICAgICAgICAgXHUwMDNjaW5wdXQgaWQ9XCJhdXRvcGxheWVyLW9wdGltYWxcIiB0eXBlPVwicmFkaW9cIiB2YWx1ZT1cIm9wdGltYWxcIiBuYW1lPVwiYXV0b3BsYXllclwiIHgtbW9kZWw9XCJhdXRvcGxheWVyXCJcdTAwM2VcbiAgICAgICAgICBcdTAwM2NsYWJlbCBmb3I9XCJhdXRvcGxheWVyLW9wdGltYWxcIiBjbGFzcz1cIm1zLTIgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNjAwXCJcdTAwM2VPcHRpbWFsIG1vdmVzXHUwMDNjL2xhYmVsXHUwMDNlXG4gICAgICAgIFx1MDAzYy9kaXZcdTAwM2VcbiAgICAgIFx1MDAzYy9kaXZcdTAwM2VcblxuICAgIFx1MDAzYy9kaXZcdTAwM2VcbiAgXHUwMDNjL2Rpdlx1MDAzZVxuXG4gIFx1MDAzY2RpdiBjbGFzcz1cIm10LTEwIGZsZXggZmxleC1yb3cganVzdGlmeS1jZW50ZXIgaXRlbXMtc3RhcnQgZ2FwLXgtMTJcIlx1MDAzZVxuICAgIFx1MDAzY2Rpdlx1MDAzZVxuICAgICAgXHUwMDNjZGl2IGNsYXNzPVwiYm9yZGVyIHJvdW5kZWQtbGcgc2hhZG93LWxnIHAtNFwiXHUwMDNlXG4gICAgICAgIFx1MDAzY2RpdlxuICAgICAgICAgIHgtcmVmPVwiZ3JpZFwiXG4gICAgICAgICAgaWQ9XCJncmlkXCJcbiAgICAgICAgICA6Y2xhc3M9XCInZ3JpZC1jb2xzLScgKyBzaXplXCJcbiAgICAgICAgICA6c3R5bGU9XCInd2lkdGg6ICcgKyAoKDIwICogNCAqIHNpemUpICsgKDEyICogKHNpemUtMSkpKSArICdweCdcIlx1MDAzZVxuXG4gICAgICAgICAgXHUwMDNjdGVtcGxhdGUgeC1mb3I9XCJpIGluIHNpemUqc2l6ZVwiXHUwMDNlXG4gICAgICAgICAgICBcdTAwM2NkaXYgY2xhc3M9XCJjZWxsXCJcbiAgICAgICAgICAgICAgZGF0YS1lbXB0eT1cIjFcIlxuICAgICAgICAgICAgICA6ZGF0YS1jZWxsPVwiaVwiXG4gICAgICAgICAgICAgIDppZD1cIidjZWxsLScgKyAoaS0xKVwiXG4gICAgICAgICAgICAgIEBjbGljaz1cIm1vdmUoaSlcIlx1MDAzZVxuICAgICAgICAgICAgXHUwMDNjL2Rpdlx1MDAzZVxuICAgICAgICAgIFx1MDAzYy90ZW1wbGF0ZVx1MDAzZVxuXG4gICAgICAgIFx1MDAzYy9kaXZcdTAwM2VcbiAgICAgIFx1MDAzYy9kaXZcdTAwM2VcbiAgICBcdTAwM2MvZGl2XHUwMDNlXG4gIFx1MDAzYy9kaXZcdTAwM2VcblxuICBcdTAwM2NoMyBjbGFzcz1cImp1c3RpZnktY2VudGVyIGZsZXggZmxleC1yb3cgZ2FwLXgtNiBtdC0xMFwiXHUwMDNlXG4gICAgXHUwMDNjc3Bhblx1MDAzZVx1MDAzY3N0cm9uZyBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LXJlZC01MDBcIlx1MDAzZU9cdTAwM2Mvc3Ryb25nXHUwMDNlIFBsYXllcjogXHUwMDNjc3BhbiB4LXRleHQ9XCJzdGF0cy5wbGF5ZXJcIlx1MDAzZVx1MDAzYy9zcGFuXHUwMDNlXHUwMDNjL3NwYW5cdTAwM2VcbiAgICBcdTAwM2NzcGFuXHUwMDNlXHUwMDNjc3Ryb25nIGNsYXNzPVwiZm9udC1ib2xkIHRleHQtYmx1ZS01MDBcIlx1MDAzZVhcdTAwM2Mvc3Ryb25nXHUwMDNlIE1hY2hpbmU6IFx1MDAzY3NwYW4geC10ZXh0PVwic3RhdHMubWFjaGluZVwiXHUwMDNlXHUwMDNjL3NwYW5cdTAwM2VcdTAwM2Mvc3Bhblx1MDAzZVxuICAgIFx1MDAzY3NwYW5cdTAwM2VEcmF3czogXHUwMDNjc3BhbiB4LXRleHQ9XCJzdGF0cy5kcmF3c1wiXHUwMDNlXHUwMDNjL3NwYW5cdTAwM2VcdTAwM2Mvc3Bhblx1MDAzZVxuICBcdTAwM2MvaDNcdTAwM2VcblxuXG4gIFx1MDAzY2RpdiBjbGFzcz1cIm10LTEwXCJcdTAwM2VcbiAgICBcdTAwM2NoMyBjbGFzcz1cIlwiXHUwMDNlTW92ZXMgYW5kIHNjb3Jlc1x1MDAzYy9oM1x1MDAzZVxuICAgIFx1MDAzY2RpdiBpZD1cIm1vdmVzXCIgeC1yZWY9XCJtb3Zlc1wiIGNsYXNzPVwiZmxleCBmbGV4LXJvdyBnYXAteC0zIG10LTQgaC0xNlwiXHUwMDNlXHUwMDNjL2Rpdlx1MDAzZVxuICBcdTAwM2MvZGl2XHUwMDNlXG5cblx1MDAzYy9kaXZcdTAwM2VcblxuXG5cblx1MDAzY3NjcmlwdFx1MDAzZVxuXG5cbiAgd2luZG93LnBsYXllcldvcmtlciA9IG5ldyBXb3JrZXIobmV3IFVSTCgnLi4vd29ya2Vycy9wbGF5ZXIudHMnLCBpbXBvcnQubWV0YS51cmwpLCB7dHlwZTogJ21vZHVsZSd9KVxuICB3aW5kb3cuZ2FtZVdvcmtlciA9IG5ldyBXb3JrZXIobmV3IFVSTCgnLi4vd29ya2Vycy9nYW1lLnRzJywgaW1wb3J0Lm1ldGEudXJsKSwge3R5cGU6ICdtb2R1bGUnfSk7XG5cbiAgd2luZG93LmdhbWVXb3JrZXIub25tZXNzYWdlID0gKGV2ZW50KSA9XHUwMDNlIHtcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJnYW1lbXNnXCIsIHsgXCJkZXRhaWxcIjogZXZlbnQuZGF0YSB9ICkpO1xuICB9O1xuXG4gIHdpbmRvdy5wbGF5ZXJXb3JrZXIub25tZXNzYWdlID0gKGV2ZW50KSA9XHUwMDNlIHtcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJwbGF5ZXJtc2dcIiwgeyBcImRldGFpbFwiOiBldmVudC5kYXRhIH0gKSk7XG4gIH07XG5cblx1MDAzYy9zY3JpcHRcdTAwM2VcblxuXG5cdTAwM2NzY3JpcHQgaXM6aW5saW5lXHUwMDNlXG5cblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdhbHBpbmU6aW5pdCcsICgpID1cdTAwM2Uge1xuXG5cbiAgICBBbHBpbmUuZGF0YSgnbWVuYWNlJywgKCkgPVx1MDAzZSAoe1xuICAgICAgdmlzaWJsZTogZmFsc2UsXG5cbiAgICAgIHNwZWVkOiA1LFxuICAgICAgc2l6ZTogMCxcbiAgICAgIHN0cmlrZTogMCxcbiAgICAgIG1vdmVTdHJhdGVneTogbnVsbCxcbiAgICAgIGF1dG9wbGF5ZXI6ICcnLFxuICAgICAgdHJhaW5pbmc6IG51bGwsXG4gICAgICBmaXJzdFBsYXllcjogZmFsc2UsXG5cbiAgICAgIHN0YXRlOiBbXSxcbiAgICAgIG1vdmVzOiBbXSxcbiAgICAgIHN0YXRzOiB7XG4gICAgICAgIHBsYXllcjogMCxcbiAgICAgICAgbWFjaGluZTogMCxcbiAgICAgICAgZHJhd3M6IDAsXG4gICAgICB9LFxuXG4gICAgICBuZXdHYW1lKGUpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gZS5kZXRhaWw7XG4gICAgICAgIHRoaXMuc2l6ZSA9IGNvbmZpZ1swXTtcbiAgICAgICAgdGhpcy5zdHJpa2VTaXplID0gY29uZmlnWzFdO1xuICAgICAgICB0aGlzLm1vdmVTdHJhdGVneSA9IGNvbmZpZ1syXTtcbiAgICAgICAgdGhpcy50cmFpbmluZyA9IGNvbmZpZ1szXTtcblxuICAgICAgICB3aW5kb3cuZ2FtZVdvcmtlci5wb3N0TWVzc2FnZShbJ1RSQUlOSU5HJywgdGhpcy50cmFpbmluZyBdKVxuXG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5yZXN0YXJ0LmJpbmQodGhpcyksIDEwMClcbiAgICAgIH0sXG5cblxuICAgICAgcmVzdGFydCgpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpXG4gICAgICB9LFxuXG4gICAgICByZXNldChlKSB7XG4gICAgICAgIHdpbmRvdy5nYW1lV29ya2VyLnBvc3RNZXNzYWdlKFsnTkVXX0dBTUUnLCB0aGlzLnNpemUsIHRoaXMuc3RyaWtlU2l6ZSBdKVxuICAgICAgICB0aGlzLiRyZWZzLm1vdmVzLmlubmVySFRNTCA9Jyc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIFx1MDAzYyAodGhpcy5zaXplICogdGhpcy5zaXplKTsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5nZXRDZWxsKGkpLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYXcnKVxuICAgICAgICAgIHRoaXMuZ2V0Q2VsbChpKS5jbGFzc0xpc3QucmVtb3ZlKCd3aW5uZXInKVxuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGltZW91dCh0aGlzLnBsYXkuYmluZCh0aGlzKSwgdGhpcy5zcGVlZClcblxuICAgICAgfSxcblxuICAgICAgZ2V0Q2VsbChpKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjY2VsbC0ke2l9YClcbiAgICAgIH0sXG5cblxuICAgICAgcGxheWVyKGUpIHtcbiAgICAgICAgY29uc3QgbW92ZSA9IGUuZGV0YWlsO1xuXG4gICAgICAgIGlmICggdHlwZW9mKG1vdmUpICE9ICdudW1iZXInICkge1xuICAgICAgICAgIHdpbmRvdy5wbGF5ZXJXb3JrZXIucG9zdE1lc3NhZ2UoWyB0aGlzLmF1dG9wbGF5ZXIsIHRoaXMuc3RhdGUuam9pbignJyksIHRoaXMuc3RyaWtlU2l6ZSBdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc3RhdGVbIG1vdmUgXSA9IDA7XG4gICAgICAgICAgdGhpcy5wYWludCgpO1xuICAgICAgICAgIHdpbmRvdy5nYW1lV29ya2VyLnBvc3RNZXNzYWdlKFsnTU9WRScsIG1vdmVdKVxuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBnYW1lKGUpIHtcbiAgICAgICAgc3dpdGNoIChlLmRldGFpbFswXSkge1xuICAgICAgICBjYXNlIFwiVFJBSU5fREFUQVwiOlxuICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGUuZGV0YWlsWzFdKSlcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiTkVXX0dBTUVcIjpcbiAgICAgICAgICB0aGlzLnN0YXRlID0gZS5kZXRhaWxbMV0uc3RhdGVcbiAgICAgICAgICB0aGlzLnBhaW50KClcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiU1RBVEVcIjpcbiAgICAgICAgICBsZXQgc3RhdGUgPSBBcnJheS5mcm9tKGUuZGV0YWlsWzFdLnN0YXRlKTtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gZS5kZXRhaWxbMV0uc3RhdGVcblxuICAgICAgICAgIHRoaXMucGFpbnQoKVxuXG4gICAgICAgICAgdGhpcy4kcmVmcy5tb3Zlcy5pbm5lckhUTUwgPSAnJztcblxuXG4gICAgICAgICAgZm9yIChsZXQgbW92ZSBvZiBlLmRldGFpbFsxXS5tb3Zlcykge1xuICAgICAgICAgICAgbGV0IGJlZm9yZU1vdmVTdGF0ZSA9IEFycmF5LmZyb20oc3RhdGUpXG4gICAgICAgICAgICBiZWZvcmVNb3ZlU3RhdGVbIGUuZGV0YWlsWzFdLm1vdmUgXSA9IDI7XG4gICAgICAgICAgICBiZWZvcmVNb3ZlU3RhdGVbIG1vdmVbMF0gXSA9IDE7XG5cbiAgICAgICAgICAgIGxldCBjID0gdGhpcy50aHVtYm5haWwoYmVmb3JlTW92ZVN0YXRlLCBtb3ZlWzBdLCA1MCk7XG4gICAgICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICAgIGxldCBzY29yZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxuICAgICAgICAgICAgc2NvcmUuaW5uZXJIVE1MID0gbW92ZVsxXVxuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHNjb3JlKVxuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKGMpXG4gICAgICAgICAgICB0aGlzLiRyZWZzLm1vdmVzLmFwcGVuZENoaWxkKGRpdilcbiAgICAgICAgICB9XG5cblxuICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5wbGF5LmJpbmQodGhpcyksIHRoaXMuc3BlZWQpXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIkVORFwiOlxuICAgICAgICAgIHRoaXMuc3RhdGUgPSBlLmRldGFpbFsxXS5zdGF0ZVxuICAgICAgICAgIHRoaXMucGFpbnQoKVxuICAgICAgICAgIHRoaXMuJHJlZnMubW92ZXMuaW5uZXJIVE1MID0nJztcbiAgICAgICAgICBjb25zdCBkYXRhID0gZS5kZXRhaWxbMV1cbiAgICAgICAgICB0aGlzLnN0YXRzID0gZGF0YS5zdGF0cztcbiAgICAgICAgICB1cGRhdGVDaGFydChkYXRhLnN0YXRzKVxuXG4gICAgICAgICAgaWYgKGRhdGEud2lubmVyID09PSBcImRyYXdcIikge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgXHUwMDNjICh0aGlzLnNpemUgKiB0aGlzLnNpemUpOyBpKyspIHtcbiAgICAgICAgICAgICAgdGhpcy5nZXRDZWxsKGkpLmNsYXNzTGlzdC5hZGQoJ2RyYXcnKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgb2YgZGF0YS5zdHJpa2UpIHtcbiAgICAgICAgICAgICAgdGhpcy5nZXRDZWxsKGkpLmNsYXNzTGlzdC5hZGQoJ3dpbm5lcicpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2V0VGltZW91dCh0aGlzLnJlc3RhcnQuYmluZCh0aGlzKSwgISF0aGlzLmF1dG9wbGF5ZXIgPyB0aGlzLnNwZWVkIDogMTAwMClcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgYXN5bmMgaW5pdCgpIHtcbiAgICAgICAgdGhpcy4kd2F0Y2goJ2F1dG9wbGF5ZXInLCAodmFsdWUsIG9sZFZhbHVlKSA9XHUwMDNlIHRoaXMucGxheSgpIClcbiAgICAgIH0sXG5cbiAgICAgIHBsYXkoKSB7XG4gICAgICAgIGlmICghIXRoaXMuYXV0b3BsYXllcikge1xuICAgICAgICAgIHdpbmRvdy5wbGF5ZXJXb3JrZXIucG9zdE1lc3NhZ2UoWyB0aGlzLmF1dG9wbGF5ZXIsIHRoaXMuc3RhdGUuam9pbignJyksIHRoaXMuc3RyaWtlU2l6ZSBdKVxuICAgICAgICB9XG4gICAgICB9LFxuXG5cbiAgICAgIHBhaW50KCkge1xuICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2V0Q2VsbChpKVxuICAgICAgICAgIGlmIChjZWxsKSB7XG4gICAgICAgICAgICBjZWxsLmlubmVySFRNTCA9IGBcdTAwM2NzcGFuIGNsYXNzPVwiY2VsbC1wbGF5ZWQgY2VsbC1jb250ZW50LSR7dGhpcy5zdGF0ZVtpXX1cIlx1MDAzZSR7dGhpcy5nZXRTeW1ib2wodGhpcy5zdGF0ZVtpXSl9XHUwMDNjL3NwYW5cdTAwM2VgXG4gICAgICAgICAgICBjZWxsLmRhdGFzZXQuZW1wdHkgPSB0aGlzLnN0YXRlW2ldID09IDIgPyAxIDogMFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgZ2V0U3ltYm9sKHgpIHtcbiAgICAgICAgc3dpdGNoICh4KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICByZXR1cm4gXCJPXCI7XG5cbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiBcIlhcIjtcblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIG1vdmUoKSB7XG4gICAgICAgIGxldCBjZWxsID0gcGFyc2VJbnQodGhpcy4kZWwuZGF0YXNldC5jZWxsKSAtMTtcbiAgICAgICAgd2luZG93LmdhbWVXb3JrZXIucG9zdE1lc3NhZ2UoWydNT1ZFJywgY2VsbF0pXG4gICAgICB9LFxuXG4gICAgICB0aHVtYm5haWwoZ3JpZERhdGEsIG1vdmUsIGh3KSB7XG5cbiAgICAgICAgY29uc3Qgc2l6ZSA9IE1hdGguc3FydChncmlkRGF0YS5sZW5ndGgpO1xuICAgICAgICBjb25zdCByb3dzID0gc2l6ZTtcbiAgICAgICAgY29uc3QgY29scyA9IHNpemU7XG5cblxuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICAgICAgICBjYW52YXMud2lkdGggPSBod1xuICAgICAgICBjYW52YXMuaGVpZ2h0PSBod1xuICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgY29uc3QgY2VsbFNpemUgPSBjYW52YXMud2lkdGggLyBjb2xzO1xuXG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgICAgLy8gU2V0IGxpbmUgcHJvcGVydGllcyB0byAzcHggdGhpY2tuZXNzIGFuZCAjZTVlN2ViIGNvbG9yXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjZTVlN2ViJztcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDM7XG5cbiAgICAgIC8vIFZlcnRpY2FsIGxpbmVzIChleGNsdWRpbmcgb3V0ZXIgYm9yZGVycylcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgXHUwMDNjIGNvbHM7IGkrKykge1xuICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICBjdHgubW92ZVRvKGkgKiBjZWxsU2l6ZSwgMCk7XG4gICAgICAgICAgY3R4LmxpbmVUbyhpICogY2VsbFNpemUsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAvLyBIb3Jpem9udGFsIGxpbmVzIChleGNsdWRpbmcgb3V0ZXIgYm9yZGVycylcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgXHUwMDNjIHJvd3M7IGkrKykge1xuICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICBjdHgubW92ZVRvKDAsIGkgKiBjZWxsU2l6ZSk7XG4gICAgICAgICAgY3R4LmxpbmVUbyhjYW52YXMud2lkdGgsIGkgKiBjZWxsU2l6ZSk7XG4gICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICB9XG5cbiAgICAgIC8vIERyYXcgY2VsbCBzeW1ib2xzIGJhc2VkIG9uIHZhbHVlc1xuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgXHUwMDNjIHJvd3M7IHJvdysrKSB7XG4gICAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIFx1MDAzYyBjb2xzOyBjb2wrKykge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSByb3cgKiBjb2xzICsgY29sO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBncmlkRGF0YVtpbmRleF07XG5cbiAgICAgICAgICAvLyBDYWxjdWxhdGUgY2VudGVyIHBvc2l0aW9uIGFuZCBzaXplIGZvciB0aGUgY2VsbFxuICAgICAgICAgICAgY29uc3QgeCA9IGNvbCAqIGNlbGxTaXplICsgY2VsbFNpemUgLyAyO1xuICAgICAgICAgICAgY29uc3QgeSA9IHJvdyAqIGNlbGxTaXplICsgY2VsbFNpemUgLyAyO1xuICAgICAgICAgIGNvbnN0IHN5bWJvbFNpemUgPSBjZWxsU2l6ZSAqIDAuNjsgLy8gU2l6ZSBvZiBzeW1ib2wgcmVsYXRpdmUgdG8gY2VsbFxuXG4gICAgICAgICAgaWYgKHZhbHVlID09PSAwKSB7XG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBpbmRleCA9PT0gbW92ZSA/ICdyZWQnIDogJ2dyZXknO1xuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHguYXJjKHgsIHksIHN5bWJvbFNpemUgLyAyLCAwLCBNYXRoLlBJICogMik7XG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gMSkge1xuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBpbmRleCA9PT0gbW92ZSA/ICdibHVlJyA6ICdncmV5JztcbiAgICAgICAgICAgIC8vIEZpcnN0IGxpbmUgb2YgWFxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyh4IC0gc3ltYm9sU2l6ZSAvIDIsIHkgLSBzeW1ib2xTaXplIC8gMik7XG4gICAgICAgICAgICBjdHgubGluZVRvKHggKyBzeW1ib2xTaXplIC8gMiwgeSArIHN5bWJvbFNpemUgLyAyKTtcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcblxuICAgICAgICAgICAgLy8gU2Vjb25kIGxpbmUgb2YgWFxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyh4ICsgc3ltYm9sU2l6ZSAvIDIsIHkgLSBzeW1ib2xTaXplIC8gMik7XG4gICAgICAgICAgICBjdHgubGluZVRvKHggLSBzeW1ib2xTaXplIC8gMiwgeSArIHN5bWJvbFNpemUgLyAyKTtcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSWYgdmFsdWUgaXMgMiwgbGVhdmUgdGhlIGNlbGwgZW1wdHlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2FudmFzO1xuICAgIH1cblxuXG4gIH0pKVxufSlcblx1MDAzYy9zY3JpcHRcdTAwM2VcblxuXG5cblx1MDAzY2RpdiBjbGFzcz1cImNvbnRhaW5lciBtdC0xMCBweS0yMFwiXHUwMDNlXG4gIFx1MDAzY2RpdiBpZD1cImNoYXJ0XCIgc3R5bGU9XCJoZWlnaHQ6IDM3MHB4OyB3aWR0aDogMTAwJTtcIlx1MDAzZVx1MDAzYy9kaXZcdTAwM2Vcblx1MDAzYy9kaXZcdTAwM2VcblxuXG5cdTAwM2NzY3JpcHQgaXM6aW5saW5lXHUwMDNlXG5cblxuICB2YXIgZGF0YVBvaW50czEgPSBbXTtcbiAgdmFyIGRhdGFQb2ludHMyID0gW107XG4gIHZhciBkYXRhUG9pbnRzMyA9IFtdO1xuXG4gIHZhciBjaGFydCA9IG5ldyBDYW52YXNKUy5DaGFydChcImNoYXJ0XCIsIHtcbiAgICB0aGVtZTogXCJsaWdodDJcIixcbiAgICBheGlzWDoge1xuICAgICAgdGl0bGU6IFwiR2FtZXNcIlxuICAgIH0sXG4gICAgYXhpc1k6IHtcbiAgICAgIHRpdGxlOiBcIlNjb3Jlc1wiXG4gICAgfSxcbiAgICB0b29sVGlwOiB7XG4gICAgICBzaGFyZWQ6IHRydWVcbiAgICB9LFxuICAgIGxlZ2VuZDoge1xuICAgICAgY3Vyc29yOlwicG9pbnRlclwiLFxuICAgICAgdmVydGljYWxBbGlnbjogXCJ0b3BcIixcbiAgICAgIGZvbnRTaXplOiAyMixcbiAgICAgIGZvbnRDb2xvcjogXCJkaW1HcmV5XCJcbiAgICB9LFxuICAgIGRhdGE6IFt7XG4gICAgICB0eXBlOiBcImxpbmVcIixcbiAgICAgIHNob3dJbkxlZ2VuZDogdHJ1ZSxcbiAgICAgIG5hbWU6IFwiUGxheWVyXCIsXG4gICAgICBjb2xvcjogXCIjZmIyYzM2XCIsXG4gICAgICBkYXRhUG9pbnRzOiBkYXRhUG9pbnRzMVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogXCJsaW5lXCIsXG4gICAgICBzaG93SW5MZWdlbmQ6IHRydWUsXG4gICAgICBuYW1lOiBcIk1hY2hpbmVcIiAsXG4gICAgICBjb2xvcjogXCIjMmI3ZmZmXCIsXG4gICAgICBkYXRhUG9pbnRzOiBkYXRhUG9pbnRzMlxuICAgIH0sICAgIHtcbiAgICAgIHR5cGU6IFwibGluZVwiLFxuICAgICAgc2hvd0luTGVnZW5kOiB0cnVlLFxuICAgICAgbmFtZTogXCJEcmF3c1wiICxcbiAgICAgIGNvbG9yOiBcIiM2YTcyODJcIixcbiAgICAgIGRhdGFQb2ludHM6IGRhdGFQb2ludHMzXG4gICAgfV1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gdXBkYXRlQ2hhcnQoc3RhdHMpIHtcbiAgICBsZXQgdGltZSA9IGRhdGFQb2ludHMxLmxlbmd0aFxuXG4gICAgZGF0YVBvaW50czEucHVzaCh7XG4gICAgICB4OiB0aW1lKzEsXG4gICAgICB5OiBwYXJzZUludChzdGF0cy5wbGF5ZXIpLFxuICAgICAgY29sb3I6IFwiI2ZiMmMzNlwiLFxuICAgIH0pO1xuICAgIGRhdGFQb2ludHMyLnB1c2goe1xuICAgICAgeDogdGltZSsxLFxuICAgICAgeTogcGFyc2VJbnQoc3RhdHMubWFjaGluZSksXG4gICAgICBjb2xvcjogXCIjMmI3ZmZmXCIsXG4gICAgfSk7XG4gICAgZGF0YVBvaW50czMucHVzaCh7XG4gICAgICB4OiB0aW1lKzEsXG4gICAgICBjb2xvcjogXCIjNmE3MjgyXCIsXG4gICAgICB5OiBwYXJzZUludChzdGF0cy5kcmF3cylcbiAgICB9KTtcblxuICAgIGNoYXJ0LnJlbmRlcigpO1xuICB9XG5cblxuXHUwMDNjL3NjcmlwdFx1MDAzZSJdLCAibWFwcGluZ3MiOiAiQUErRUEsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDckcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbEc7QUFDQSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDM0MsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUMvRSxFQUFFLENBQUM7QUFDSDtBQUNBLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDN0MsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDakYsRUFBRSxDQUFDO0FBQUE7IiwgIm5hbWVzIjogW10gfQ=="],"names":["event"],"mappings":"AA+EE,OAAO,aAAe,IAAI,OAAO,IAAkD,IAAA,6CAAA,YAAA,GAAA,EAAA,CAAC,KAAM,QAAA,CAAS,EACnG,OAAO,WAAa,IAAI,OAAO,IAAgD,IAAA,2CAAA,YAAA,GAAA,EAAA,CAAC,KAAM,QAAA,CAAS,EAE/F,OAAO,WAAW,UAAaA,GAAU,CAChC,OAAA,cAAc,IAAI,YAAY,UAAW,CAAE,OAAUA,EAAM,IAAK,CAAE,CAAC,CAC5E,EAEA,OAAO,aAAa,UAAaA,GAAU,CAClC,OAAA,cAAc,IAAI,YAAY,YAAa,CAAE,OAAUA,EAAM,IAAK,CAAE,CAAC,CAC9E"}